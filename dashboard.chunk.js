(self.webpackChunkcherry_insights=self.webpackChunkcherry_insights||[]).push([[966],{3530:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>pt});var n=r(67294),a=r(10267),o=r(51252),s=r(56941),l=r(91121),c=r(75351),i=r(38089),u=r(98595);const m=function(e){return n.createElement(n.Fragment,null,n.createElement("div",{className:"header bg-gradient-info pb-8 pt-5 pt-md-8"},n.createElement(u.Z,{fluid:!0},n.createElement("div",{className:"header-body"},e.contentHeader))),n.createElement(u.Z,{className:"mt--7",fluid:!0,style:{minHeight:"519px"}},e.children))};var f=r(53328),d=r(67587),p=(r(31877),r(86961),r(88598)),b=r(9669),v=r.n(b);window.localStorage;var g,h,y=function(e){var t="";for(var r in e)e.hasOwnProperty(r)&&(""!==t&&(t+="&"),t+=r+"="+e[r]);return t};function w(e,t,r,n,a,o,s){try{var l=e[o](s),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function x(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function s(e){w(o,n,a,s,l,"next",e)}function l(e){w(o,n,a,s,l,"throw",e)}s(void 0)}))}}function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){N(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var S={root:new function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.prefix,a=void 0===n?"":n,o=r.responseBuilder,s=void 0===o?function(e){return e}:o;O(this,e),N(this,"get",(function(e,r,n){return t.request({url:e,method:"get",data:r,options:n})})),N(this,"post",(function(e,r,n){return t.request({url:e,method:"post",data:r,options:n})})),N(this,"delete",(function(e,r,n){return t.request({url:e,method:"delete",data:r,options:n})})),N(this,"postFormData",(function(e,r,n){return r=y(r),t.post(e,r,j(j({},n),{},{headers:j({"Content-Type":"application/x-www-form-urlencoded"},n.headers)}))})),N(this,"request",function(){var e=x(regeneratorRuntime.mark((function e(r){var n,a,o,s,l,c,i,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.url,a=r.method,o=r.data,s=r.options,l=void 0===s?{}:s,n=t.getUrl({url:n,options:l}),c=t.getAxiosArgs({url:n,method:a,data:o,options:l}),e.prev=3,e.next=6,v().request(c);case 6:if(200===(i=e.sent).status){e.next=11;break}throw console.log("%c ApiService request: ".concat(n," (").concat(a,") status non success: ").concat(i),"background: #701414; color: #bada55"),console.log("%c throwing","background: #701414; color: #bada55"),i;case 11:return e.abrupt("return",t.responseBuilder(i));case 14:if(e.prev=14,e.t0=e.catch(3),!v().isCancel(e.t0)){e.next=20;break}console.log("Request canceled",e.t0.message),e.next=26;break;case 20:e.next=25;break;case 23:return u=e.sent,e.abrupt("return",t.responseBuilder(u));case 25:console.log("%c ApiService request: ".concat(n," (").concat(a,") catch: ").concat(e.t0.response),"background: #701414; color: #bada55");case 26:throw e.t0;case 27:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}()),N(this,"errorResponseInterceptor",(function(e){return e.url,e.method,e.axiosArgs,e.response,new Promise.resolve})),N(this,"getUrl",(function(e){var r=e.url,n=e.options,a=void 0===n?{}:n;return"absolute"===(a&&a.urlType&&"string"==typeof a.urlType?a.urlType.toLowerCase():"")?r:t.prefix+r})),N(this,"getAxiosArgs",(function(e){var t=e.url,r=e.method,n=e.data,a=e.options,o=void 0===a?{}:a,s=j(j({},o),{},{headers:j({Accept:"application/json"},o.headers)}),l={url:t,method:r,responseType:s.responseType,headers:s.headers,cancelToken:s.cancelToken};switch(r){case"get":l=j(j({},l),{},{params:n});break;case"post":l=j(j({},l),{},{data:n,params:s.params})}return l})),this.prefix=a,this.responseBuilder=s}({prefix:null!==(g=window.CONST)&&void 0!==g&&g.remoteServerUrl?null===(h=window.CONST)||void 0===h?void 0:h.remoteServerUrl:window.location.href.indexOf("github.io")>-1?"https://apib-kwt.almullaexchange.com/xms/api/v1":"https://api-kwt.almullaexchange.com/xms/api/v1"})};function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var C=[{order:0,name:"millisecond",label:"Millisecond",value:"h:mm:ss.SSS a",outputExample:"11:20:01.123 AM",successor:"second",predecessor:"",timeValue:1e3,ms:1},{order:1,name:"second",label:"Second",value:"h:mm:ss a",outputExample:"11:20:01 AM",successor:"minute",predecessor:"millisecond",timeValue:60,ms:1e3},{order:2,name:"minute",label:"Minute",value:"h:mm a",outputExample:"11:20 AM",successor:"hour",predecessor:"second",timeValue:60,ms:6e4},{order:3,name:"hour",label:"Hour",value:"hA",outputExample:"11 AM",successor:"day",predecessor:"minute",timeValue:24,ms:36e5},{order:4,name:"day",label:"Day",value:"MMM D",outputExample:"Sep 4",successor:"week",predecessor:"hour",timeValue:7,ms:864e5},{order:5,name:"week",label:"Week",value:"ll",outputExample:"Sep 4 2015",successor:"month",predecessor:"day",timeValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(new Date).getFullYear(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(new Date).getMonth()+1,r=arguments.length>2?arguments[2]:void 0,n=r||0,a=new Date(e,t-1,1),o=new Date(e,t,0),s=o.getDate(),l=(a.getDay()-n+7)%7,c=l+s;return Math.ceil(c/7)}(),ms:6048e5},{order:6,name:"month",label:"Month",value:"MMM YYYY",outputExample:"Sep 2015",successor:"quarter",predecessor:"week",timeValue:R(),ms:864e5*R()},{order:7,name:"quarter",label:"Quarter",value:"[Q]Q - YYYY",outputExample:"Q3 - 2015",successor:"year",predecessor:"month",timeValue:4,ms:864e5*function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Math.floor(((new Date).getMonth()+3)/3),t=[91,91,92,92],r=[90,91,92,92];return Z()?t[e-1]:r[e-1]}()},{order:8,name:"year",label:"Year",value:"YYYY",outputExample:"2015",successor:"",predecessor:"quarter",timeValue:10,ms:864e5*function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(new Date).getFullYear();return Z(e)?366:365}()}],P={};C.forEach((function(e){P[e.name]=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){D(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e)}));var A="day";function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(new Date).getFullYear(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(new Date).getMonth()+1;return new Date(t,e,0).getDate()}function Z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(new Date).getFullYear();return 29===new Date(e,1,29).getDate()}var F=function(){var e={};return C.forEach((function(t){"millisecond"!=t.name&&"second"!=t.name&&(e[t.name]=t.value)})),e},I=["#FF6633","#FFB399","#FF33FF","#FFFF99","#00B3E6","#E6B333","#3366E6","#999966","#99FF99","#B34D4D","#80B300","#809900","#E6B3B3","#6680B3","#66991A","#FF99E6","#CCFF1A","#FF1A66","#E6331A","#33FFCC","#66994D","#B366CC","#4D8000","#B33300","#CC80CC","#66664D","#991AFF","#E666FF","#4DB3FF","#1AB399","#E666B3","#33991A","#CC9999","#B3B31A","#00E680","#4D8066","#809980","#E6FF80","#1AFF33","#999933","#FF3380","#CCCC00","#66E64D","#4D80CC","#9900B3","#E64D66","#4DB380","#FF4D4D","#99E6E6","#6666FF"];function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){U(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function U(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M(e,t,r,n,a,o,s){try{var l=e[o](s),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function B(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function s(e){M(o,n,a,s,l,"next",e)}function l(e){M(o,n,a,s,l,"throw",e)}s(void 0)}))}}function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],s=!0,l=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){l=!0,a=e}finally{try{s||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return V(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?V(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const Y=function(e){var t=K((0,n.useState)({}),2),r=t[0],a=t[1],o=K((0,n.useState)(""),2),s=o[0],l=o[1],c=K((0,n.useState)({min:0,max:0}),2),i=c[0],u=c[1],m=K((0,n.useState)({min:0,max:0}),2),f=m[0],d=m[1],b=(0,n.useRef)();(0,n.useEffect)(B(regeneratorRuntime.mark((function e(){var t,r,n,o,s,c,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("UserBase mount "),l(A),t=P.day,r=P[t.successor],n=(new Date).valueOf(),o=n-r.ms,u((function(e){return z(z({},e),{},{min:o,max:n})})),s=n+31536e6,c=o-31536e6,d((function(e){return z(z({},e),{},{min:c,max:s})})),e.next=12,h(o,n,A);case 12:return i=e.sent,console.log("UserBase - Fetched data between "+new Date(o)+" and "+new Date(n),{data:i}),a({datasets:[{label:"Active customers",data:y(i.activeCustomers),parsing:{xAxisKey:"date",yAxisKey:"Count"},borderColor:"#a8ddb5",backgroundColor:"#a8ddb5",stack:"1"},{label:"Inactive customers",data:y(i.inActiveCustomers),parsing:{xAxisKey:"date",yAxisKey:"Count"},borderColor:"#fdbb84",backgroundColor:"#fdbb84",stack:"1"},{label:"Lost customers",data:y(i.lostCustomers),parsing:{xAxisKey:"date",yAxisKey:"Count"},borderColor:"#e34a33",backgroundColor:"#e34a33",stack:"1"},{label:"New Users",data:y(i.newUser),parsing:{xAxisKey:"date",yAxisKey:"Count"},borderColor:"#31a354",backgroundColor:"#31a354",stack:"1"},{label:"Active Users",data:y(i.activeUser),parsing:{xAxisKey:"date",yAxisKey:"Count"},borderColor:"#ffeda0",backgroundColor:"#ffeda0",stack:"1"}]}),e.abrupt("return",(function(){console.log("UserBase mount cleanup ")}));case 16:case"end":return e.stop()}}),e)}))),[]);var v,g=function(e){return b.current.zoom(e)},h=function(){var e=B(regeneratorRuntime.mark((function e(t,r){var n,a,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>2&&void 0!==o[2]?o[2]:s,e.next=3,S.root.post("/digital/analytics/app-user-base",{dateRange1:t,dateRange1Str:new Date(t),dateRange2:r,dateRange2Str:new Date(r),displayFormat:n});case 3:return a=e.sent,e.abrupt("return",a.data.results[0]);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),y=function(e){return e.map((function(e){return z({Count:0},e)})).sort((function(e,t){return e.date<t.date?1:e.date>t.date?-1:0}))},w=function(e,t,r,n){var a=e.chart,o=t||a.scales.x.min,s=r||a.scales.x.max;clearTimeout(v),v=setTimeout(B(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(o,s,n);case 2:t=e.sent,console.log("UserBase - Fetched data between "+new Date(o)+" and "+new Date(s),{data:t}),a.data.datasets[0].data=y(t.activeCustomers),a.data.datasets[1].data=y(t.inActiveCustomers),a.data.datasets[2].data=y(t.lostCustomers),a.data.datasets[3].data=y(t.newUser),a.data.datasets[4].data=y(t.activeUser),a.stop(),a.update("none");case 11:case"end":return e.stop()}}),e)}))),300)};return n.createElement("div",{style:{height:"auto"}},n.createElement("div",{className:"chart-filters row mb-3"},n.createElement("div",{className:"col-lg-8"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-lg-4 mb-2"},n.createElement("div",{className:"form-group-sm"},n.createElement("label",{className:"form-control-label",htmlFor:"display-format"},"Unit"),n.createElement("select",{style:{width:"100%"},className:"form-control-alternative form-control-sm",id:"display-format",value:s,onChange:function(e){var t=e.target.value;l(t);var r=P[t],n=P[r.successor],a=(new Date).valueOf(),o=a-n.ms;u((function(e){return z(z({},e),{},{min:o,max:a})})),w({chart:b.current},o,a,t)}},n.createElement("option",{key:"",value:""},"Select Display Format"),Object.entries(F()).map((function(e){var t=K(e,2),r=t[0];return t[1],n.createElement("option",{key:r,value:r},r.toUpperCase())}))))))),n.createElement("div",{className:"col-lg-4 text-right mb-2"},n.createElement("button",{className:"btn btn-sm btn-primary",title:"Zoom In",onClick:function(){return g(1.1)}},n.createElement("i",{className:"fa fa-search-plus"})),n.createElement("button",{className:"btn btn-sm btn-primary",title:"Zoom Out",onClick:function(){return g(.9)}},n.createElement("i",{className:"fa fa-search-minus"})),n.createElement("button",{className:"btn btn-sm btn-primary",title:"Reset",onClick:function(){return b.current.resetZoom()}},n.createElement("i",{className:"fa fa-sync"})))),n.createElement(p.x1,{ref:b,data:r,options:{responsive:!0,scales:{x:{grid:{display:!1},beginAtZero:!0,position:"bottom",type:"time",min:i.min,max:i.max,ticks:{autoSkip:!0,autoSkipPadding:5,maxRotation:0},time:{unit:s,displayFormats:F()}},y:{grid:{display:!1},beginAtZero:!0,position:"left",type:"linear",ticks:{autoSkip:!0},stacked:!0}},plugins:{title:{display:!0,position:"top",text:function(e){return"\n                                    Chart Info [ zoom level : ".concat(e.chart.getZoomLevel()," ] [ start : ").concat(e.chart.scales.x.min&&-1!=e.chart.scales.x.min&&1!=e.chart.scales.x.min?new Date(e.chart.scales.x.min).toISOString().split("T")[0]:"-",", end : ").concat(e.chart.scales.x.max&&-1!=e.chart.scales.x.max&&1!=e.chart.scales.x.max?new Date(e.chart.scales.x.max).toISOString().split("T")[0]:"-"," ]\n                                ")}},legend:{display:!0,position:"top",labels:{usePointStyle:!0,pointStyle:"rectRounded"}},zoom:{pan:{enabled:!0,mode:"x",threshold:100,onPanComplete:w},zoom:{mode:"x",wheel:{enabled:!0,speed:.1},drag:{enabled:!1},pinch:{enabled:!1},onZoomComplete:w},limits:{x:{minRange:6e4,min:f.min,max:f.max}}}},transitions:{zoom:{animation:{duration:100}}},elements:{line:{pointRadius:1,tension:.4}}}}))};function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){$(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H(e,t,r,n,a,o,s){try{var l=e[o](s),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function _(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function s(e){H(o,n,a,s,l,"next",e)}function l(e){H(o,n,a,s,l,"throw",e)}s(void 0)}))}}function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],s=!0,l=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){l=!0,a=e}finally{try{s||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return W(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?W(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const J=function(e){var t=Q((0,n.useState)({}),2),r=t[0],a=t[1],o=Q((0,n.useState)(""),2),s=o[0],l=o[1],c=Q((0,n.useState)({min:0,max:0}),2),i=c[0],u=c[1],m=Q((0,n.useState)({min:0,max:0}),2),f=m[0],d=m[1],b=(0,n.useRef)();(0,n.useEffect)(_(regeneratorRuntime.mark((function e(){var t,r,n,o,s,c,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("ActiveUsers mount "),l(A),t=P.day,r=P[t.successor],n=(new Date).valueOf(),o=n-r.ms,u((function(e){return L(L({},e),{},{min:o,max:n})})),s=n+31536e6,c=o-31536e6,d((function(e){return L(L({},e),{},{min:c,max:s})})),e.next=12,h(o,n,A);case 12:return i=e.sent,console.log("ActiveUsers - Fetched data between "+new Date(o)+" and "+new Date(n),{data:i}),a({datasets:[$({label:"WEB",data:y(i),parsing:{xAxisKey:"date",yAxisKey:"WEB"},backgroundColor:"#fc8d59",borderColor:"#fc8d59"},"borderColor","white"),$({label:"IOS",data:y(i),parsing:{xAxisKey:"date",yAxisKey:"IOS"},backgroundColor:"#67a9cf",borderColor:"#67a9cf"},"borderColor","white"),$({label:"ANDROID",data:y(i),parsing:{xAxisKey:"date",yAxisKey:"ANDROID"},backgroundColor:"#af8dc3",borderColor:"#af8dc3"},"borderColor","white")]}),e.abrupt("return",(function(){console.log("ActiveUsers mount cleanup ")}));case 16:case"end":return e.stop()}}),e)}))),[]);var v,g=function(e){return b.current.zoom(e)},h=function(){var e=_(regeneratorRuntime.mark((function e(t,r){var n,a,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>2&&void 0!==o[2]?o[2]:s,e.next=3,S.root.post("/digital/analytics/active-users-count",{dateRange1:t,dateRange1Str:new Date(t),dateRange2:r,dateRange2Str:new Date(r),displayFormat:n});case 3:return a=e.sent,e.abrupt("return",a.data.results);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),y=function(e){return e.map((function(e){return L({WEB:0,IOS:0},e)})).sort((function(e,t){return e.date<t.date?1:e.date>t.date?-1:0}))},w=function(e,t,r,n){var a=e.chart,o=t||a.scales.x.min,s=r||a.scales.x.max;clearTimeout(v),v=setTimeout(_(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(o,s,n);case 2:t=e.sent,console.log("ActiveUsers - Fetched data between "+new Date(o)+" and "+new Date(s),{data:t}),a.data.datasets[0].data=y(t),a.data.datasets[1].data=y(t),a.data.datasets[2].data=y(t),a.stop(),a.update("none");case 9:case"end":return e.stop()}}),e)}))),300)};return n.createElement("div",{style:{height:"auto"}},n.createElement("div",{className:"chart-filters row mb-3"},n.createElement("div",{className:"col-lg-8"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-lg-4 mb-2"},n.createElement("div",{className:"form-group-sm"},n.createElement("label",{className:"form-control-label",htmlFor:"display-format"},"Unit"),n.createElement("select",{style:{width:"100%"},className:"form-control-alternative form-control-sm",id:"display-format",value:s,onChange:function(e){var t=e.target.value;l(t);var r=P[t],n=P[r.successor],a=(new Date).valueOf(),o=a-n.ms;u((function(e){return L(L({},e),{},{min:o,max:a})})),w({chart:b.current},o,a,t)}},n.createElement("option",{key:"",value:""},"Select Display Format"),Object.entries(F()).map((function(e){var t=Q(e,2),r=t[0];return t[1],n.createElement("option",{key:r,value:r},r.toUpperCase())}))))))),n.createElement("div",{className:"col-lg-4 text-right mb-2"},n.createElement("button",{className:"btn btn-sm btn-primary",title:"Zoom In",onClick:function(){return g(1.1)}},n.createElement("i",{className:"fa fa-search-plus"})),n.createElement("button",{className:"btn btn-sm btn-primary",title:"Zoom Out",onClick:function(){return g(.9)}},n.createElement("i",{className:"fa fa-search-minus"})),n.createElement("button",{className:"btn btn-sm btn-primary",title:"Reset",onClick:function(){return b.current.resetZoom()}},n.createElement("i",{className:"fa fa-sync"})))),n.createElement(p.$Q,{ref:b,data:r,options:{responsive:!0,barThickness:30,scales:{x:{grid:{display:!1},beginAtZero:!0,position:"bottom",type:"time",min:i.min,max:i.max,ticks:{autoSkip:!0,autoSkipPadding:5,maxRotation:0},time:{unit:s,displayFormats:F()},stacked:!0},y:{grid:{display:!1},beginAtZero:!0,position:"left",type:"linear",ticks:{autoSkip:!0},stacked:!0}},plugins:{title:{display:!0,position:"top",text:function(e){return"\n                                    Chart Info [ zoom level : ".concat(e.chart.getZoomLevel()," ] [ start : ").concat(e.chart.scales.x.min&&-1!=e.chart.scales.x.min&&1!=e.chart.scales.x.min?new Date(e.chart.scales.x.min).toISOString().split("T")[0]:"-",", end : ").concat(e.chart.scales.x.max&&-1!=e.chart.scales.x.max&&1!=e.chart.scales.x.max?new Date(e.chart.scales.x.max).toISOString().split("T")[0]:"-"," ]\n                                ")}},legend:{display:!0,position:"top",labels:{usePointStyle:!0,pointStyle:"rectRounded"}},zoom:{pan:{enabled:!0,mode:"x",threshold:100,onPanComplete:w},zoom:{mode:"x",wheel:{enabled:!0,speed:.1},drag:{enabled:!1},pinch:{enabled:!1},onZoomComplete:w},limits:{x:{minRange:6e4,min:f.min,max:f.max}}}},transitions:{zoom:{animation:{duration:100}}}}}))};function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach((function(t){ee(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ee(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function te(e,t,r,n,a,o,s){try{var l=e[o](s),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function re(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function s(e){te(o,n,a,s,l,"next",e)}function l(e){te(o,n,a,s,l,"throw",e)}s(void 0)}))}}function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],s=!0,l=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){l=!0,a=e}finally{try{s||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ae(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ae(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const oe=function(e){var t=ne((0,n.useState)({}),2),r=t[0],a=t[1],o=ne((0,n.useState)(""),2),s=o[0],l=o[1],c=ne((0,n.useState)({min:0,max:0}),2),i=c[0],u=c[1],m=ne((0,n.useState)({min:0,max:0}),2),f=m[0],d=m[1],b=(0,n.useRef)();(0,n.useEffect)(re(regeneratorRuntime.mark((function e(){var t,r,n,o,s,c,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("CrashAnalysis mount "),l(A),t=P.day,r=P[t.successor],n=(new Date).valueOf(),o=n-r.ms,u((function(e){return X(X({},e),{},{min:o,max:n})})),s=n+31536e6,c=o-31536e6,d((function(e){return X(X({},e),{},{min:c,max:s})})),e.next=12,h(o,n,A);case 12:return i=e.sent,console.log("CrashAnalysis - Fetched data between "+new Date(o)+" and "+new Date(n),{data:i}),a({datasets:[ee({label:"IOS",data:y(i),parsing:{xAxisKey:"date",yAxisKey:"IOS"},backgroundColor:"#67a9cf",borderColor:"#67a9cf"},"borderColor","white"),ee({label:"ANDROID",data:y(i),parsing:{xAxisKey:"date",yAxisKey:"ANDROID"},backgroundColor:"#af8dc3",borderColor:"#af8dc3"},"borderColor","white")]}),e.abrupt("return",(function(){console.log("CrashAnalysis mount cleanup ")}));case 16:case"end":return e.stop()}}),e)}))),[]);var v,g=function(e){return b.current.zoom(e)},h=function(){var e=re(regeneratorRuntime.mark((function e(t,r){var n,a,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>2&&void 0!==o[2]?o[2]:s,e.next=3,S.root.post("/digital/analytics/app-crashes-count",{dateRange1:t,dateRange1Str:new Date(t),dateRange2:r,dateRange2Str:new Date(r),displayFormat:n});case 3:return a=e.sent,e.abrupt("return",a.data.results);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),y=function(e){return e.map((function(e){return X({WEB:0,IOS:0},e)})).sort((function(e,t){return e.date<t.date?1:e.date>t.date?-1:0}))},w=function(e,t,r,n){var a=e.chart,o=t||a.scales.x.min,s=r||a.scales.x.max;clearTimeout(v),v=setTimeout(re(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(o,s,n);case 2:t=e.sent,console.log("CrashAnalysis - Fetched data between "+new Date(o)+" and "+new Date(s),{data:t}),a.data.datasets[0].data=y(t),a.data.datasets[1].data=y(t),a.stop(),a.update("none");case 8:case"end":return e.stop()}}),e)}))),300)};return n.createElement("div",{style:{height:"auto"}},n.createElement("div",{className:"chart-filters row mb-3"},n.createElement("div",{className:"col-lg-8"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-lg-4 mb-2"},n.createElement("div",{className:"form-group-sm"},n.createElement("label",{className:"form-control-label",htmlFor:"display-format"},"Unit"),n.createElement("select",{style:{width:"100%"},className:"form-control-alternative form-control-sm",id:"display-format",value:s,onChange:function(e){var t=e.target.value;l(t);var r=P[t],n=P[r.successor],a=(new Date).valueOf(),o=a-n.ms;u((function(e){return X(X({},e),{},{min:o,max:a})})),w({chart:b.current},o,a,t)}},n.createElement("option",{key:"",value:""},"Select Display Format"),Object.entries(F()).map((function(e){var t=ne(e,2),r=t[0];return t[1],n.createElement("option",{key:r,value:r},r.toUpperCase())}))))))),n.createElement("div",{className:"col-lg-4 text-right mb-2"},n.createElement("button",{className:"btn btn-sm btn-primary",title:"Zoom In",onClick:function(){return g(1.1)}},n.createElement("i",{className:"fa fa-search-plus"})),n.createElement("button",{className:"btn btn-sm btn-primary",title:"Zoom Out",onClick:function(){return g(.9)}},n.createElement("i",{className:"fa fa-search-minus"})),n.createElement("button",{className:"btn btn-sm btn-primary",title:"Reset",onClick:function(){return b.current.resetZoom()}},n.createElement("i",{className:"fa fa-sync"})))),n.createElement(p.$Q,{ref:b,data:r,options:{responsive:!0,barThickness:30,scales:{x:{grid:{display:!1},beginAtZero:!0,position:"bottom",type:"time",min:i.min,max:i.max,ticks:{autoSkip:!0,autoSkipPadding:5,maxRotation:0},time:{unit:s,displayFormats:F()},stacked:!0},y:{grid:{display:!1},beginAtZero:!0,position:"left",type:"linear",ticks:{autoSkip:!0},stacked:!0}},plugins:{title:{display:!0,position:"top",text:function(e){return"\n                                    Chart Info [ zoom level : ".concat(e.chart.getZoomLevel()," ] [ start : ").concat(e.chart.scales.x.min&&-1!=e.chart.scales.x.min&&1!=e.chart.scales.x.min?new Date(e.chart.scales.x.min).toISOString().split("T")[0]:"-",", end : ").concat(e.chart.scales.x.max&&-1!=e.chart.scales.x.max&&1!=e.chart.scales.x.max?new Date(e.chart.scales.x.max).toISOString().split("T")[0]:"-"," ]\n                                ")}},legend:{display:!0,position:"top",labels:{usePointStyle:!0,pointStyle:"rectRounded"}},zoom:{pan:{enabled:!0,mode:"x",threshold:100,onPanComplete:w},zoom:{mode:"x",wheel:{enabled:!0,speed:.1},drag:{enabled:!1},pinch:{enabled:!1},onZoomComplete:w},limits:{x:{minRange:6e4,min:f.min,max:f.max}}}},transitions:{zoom:{animation:{duration:100}}}}}))};var se=["date","dateStr"];function le(e){return function(e){if(Array.isArray(e))return be(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||pe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(r),!0).forEach((function(t){ue(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ue(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function me(e,t,r,n,a,o,s){try{var l=e[o](s),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function fe(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function s(e){me(o,n,a,s,l,"next",e)}function l(e){me(o,n,a,s,l,"throw",e)}s(void 0)}))}}function de(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],s=!0,l=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){l=!0,a=e}finally{try{s||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,t)||pe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(e,t){if(e){if("string"==typeof e)return be(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?be(e,t):void 0}}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const ve=function(e){var t=de((0,n.useState)({}),2),r=t[0],a=t[1],o=de((0,n.useState)(!1),2),s=o[0],l=o[1],c=de((0,n.useState)(""),2),i=c[0],u=c[1],m=de((0,n.useState)({min:0,max:0}),2),f=m[0],d=m[1],b=(0,n.useRef)();(0,n.useEffect)(fe(regeneratorRuntime.mark((function e(){var t,r,n,o,s,l,c,i,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("TrafficAnalysis mount "),u(A),t=P.day,r=P[t.successor],n=(new Date).valueOf(),o=n-r.ms,d((function(e){return ie(ie({},e),{},{min:o,max:n})})),e.next=9,v(o,n,A);case 9:return s=e.sent,console.log("TrafficAnalysis - Fetched data between "+new Date(o)+" and "+new Date(n),{data:s}),l=g(s),c=de(l,2),i=c[0],m=c[1],a({labels:i,datasets:[{label:"Traffic",data:m,backgroundColor:I.slice(0,m.length+1)}]}),e.abrupt("return",(function(){console.log("TrafficAnalysis mount cleanup ")}));case 14:case"end":return e.stop()}}),e)}))),[]);var v=function(){var e=fe(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(!0),e.next=4,S.root.post("/digital/analytics/web-referrers-count",{dateRange1:t,dateRange1Str:new Date(t),dateRange2:r,dateRange2Str:new Date(r),displayFormat:i});case 4:return n=e.sent,e.abrupt("return",n.data.results);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:return e.prev=11,l(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(t,r){return e.apply(this,arguments)}}(),g=function(e){var t={};return e.forEach((function(e){e.date,e.dateStr;var r=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,se);Object.entries(r).forEach((function(e){var r=de(e,2),n=r[0],a=r[1];t.hasOwnProperty(n)?t[n]=t[n]+a:t[n]=a}))})),[le(Object.keys(t)),le(Object.values(t))]},h=function(){var e=fe(regeneratorRuntime.mark((function e(){var t,r,n,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(f.min,f.max);case 2:t=e.sent,console.log("TrafficAnalysis - Fetched data between "+new Date(f.min)+" and "+new Date(f.max),{data:t}),r=g(t),n=de(r,2),o=n[0],s=n[1],a({labels:o,datasets:[{label:"Traffic",data:s,backgroundColor:I.slice(0,s.length+1)}]});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n.createElement("div",{style:{height:"auto"},className:s?"loader-inline":""},n.createElement("div",{className:"chart-filters row mb-3"},n.createElement("div",{className:"col-lg-8"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-lg-3 mb-2"},n.createElement("div",{className:"form-group-sm"},n.createElement("label",{className:"form-control-label",htmlFor:"start-time"},"Start"),n.createElement("input",{style:{width:"100%",color:f.min?"":"transparent"},className:"form-control-alternative form-control-sm",type:"date",id:"start-time",value:f.min?new Date(f.min).toISOString().split("T")[0]:"",onChange:function(e){return d((function(t){return ie(ie({},t),{},{min:new Date(e.target.value).valueOf()})}))}}))),n.createElement("div",{className:"col-lg-3 mb-2"},n.createElement("div",{className:"form-group-sm"},n.createElement("label",{className:"form-control-label",htmlFor:"end-time"},"End"),n.createElement("input",{style:{width:"100%",color:f.max?"":"transparent"},className:"form-control-alternative form-control-sm",type:"date",id:"end-time",value:f.max?new Date(f.max).toISOString().split("T")[0]:"",onChange:function(e){return d((function(t){return ie(ie({},t),{},{max:new Date(e.target.value).valueOf()})}))}}))),n.createElement("div",{className:"col-lg-3 mb-2 d-flex align-items-end"},n.createElement("button",{className:"btn btn-sm btn-primary",onClick:h},n.createElement("i",{className:"fa fa-search"})))))),n.createElement("div",{style:{position:"relative",height:"450px"}},n.createElement(p.by,{ref:b,data:r,options:{maintainAspectRatio:!1,plugins:{title:{display:!0,position:"top",text:function(e){return""}},legend:{display:!0,position:"top",labels:{usePointStyle:!0,pointStyle:"rectRounded"}}},transitions:{zoom:{animation:{duration:100}}}}})))};var ge=r(36595),he=r(79521),ye=r(47600),we=(r(66235),r(84425)),xe=["id","label","value","onChangeInput","helperText","errorMsg"],Ee=["id","label","options","value","defaultValue","onChangeInput","disabled","helperText","errorMsg"],je=["id","label","value","onChangeInput","helperText","errorMsg"],Oe=["controlled","type","id","value","onChange","disabled","required","validationProfiles","inputValidator","inputValidations","liveValidations"];function Ne(e,t,r,n,a,o,s){try{var l=e[o](s),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function Se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],s=!0,l=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){l=!0,a=e}finally{try{s||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,t)||Ae(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ke(e,t,r){return ke=De()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var a=new(Function.bind.apply(e,n));return r&&Ce(a,r.prototype),a},ke.apply(null,arguments)}function De(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ce(e,t){return Ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ce(e,t)}function Pe(e){return function(e){if(Array.isArray(e))return Re(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ae(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ae(e,t){if(e){if("string"==typeof e)return Re(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Re(e,t):void 0}}function Re(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ze(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(r),!0).forEach((function(t){Ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ze(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ie(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Te(e){return Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Te(e)}function ze(){return ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ze.apply(this,arguments)}function Ue(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Me={default:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(""===e||null==e){var r=t.emptyErr||"Please enter ".concat(t.label||t.hiddenLabel||"this field");return{valid:!1,errorMsg:r}}return{valid:!0}},email:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i,n=r.test(e);return{valid:n,errorMsg:"Please Enter Valid ".concat(t.label||t.hiddenLabel||"Input")}}},Be=function(e){return(e||[]).map((function(e){if(void 0===Me[e]){if("function"==typeof e)return e;if(e instanceof RegExp||Ve.validRegex(e)){var t=e;return Ve.validRegex(e)&&(t=Ve.regexpStringToObj(e)),function(e){return{valid:t.test(e),errorMsg:"Invalid Input"}}}console.error("no validation profile found for ".concat(e))}return Me[e]}))},Ke="REGEX_SPLITTER",Ve={regexpStringToObj:function(e){var t=e.replace(/\/(.+)\/([gmiyus]{0,6})/,"$1".concat(Ke,"$2"));return ke(RegExp,Pe(t.split(Ke)))},validRegex:function(e){var t=!0;try{new RegExp(e)}catch(e){t=!1}return t},validate:function(e,t){for(var r=t.value,n=t.config,a=[],o=0;o<e.length;o++){var s=e[o];s&&a.push(s(r,n))}return a}},Ye={text:n.forwardRef((function(e,t){var r=e.id,a=e.label,o=(e.value,e.onChangeInput),s=e.helperText,l=e.errorMsg,c=Ue(e,xe);return n.createElement("div",{className:"form-group".concat(l?" form-group-error":"")},n.createElement("label",{className:"form-control-label",htmlFor:r},a),n.createElement("input",ze({ref:t,id:r,className:"form-control-alternative form-control",onChange:function(e){return o(e.target.value)}},c)),n.createElement("span",{className:"form-control-helper-text"},s))})),select:n.forwardRef((function(e,t){var r=e.id,a=e.label,o=e.options,s=void 0===o?[]:o,l=e.value,c=e.defaultValue,i=e.onChangeInput,u=e.disabled,m=e.helperText,f=e.errorMsg,d=Ue(e,Ee);return(0,n.useEffect)((function(){if(""!==l&&"object"!==Te(l)){var e=s.find((function(e){return e.value===l}));e&&i(e)}if(""===l&&""!==c)if("object"===Te(c)){var t=s.find((function(e){return e.value===c.value}));t&&i(t)}else{var r=s.find((function(e){return e.value===c}));r&&i(r)}return 1===s.length&&i(s[0]),function(){}}),[l,c,s]),n.createElement("div",{className:"form-group".concat(f?" form-group-error":"")},a&&n.createElement("label",{className:"form-control-label",htmlFor:r},a),n.createElement(we.ZP,ze({ref:t,id:r,styles:{control:function(e,t){return Fe(Fe(Fe({},e),t.isFocussed?{boxShadow:"none"}:{}),{},{height:"43px",border:0,borderRadius:"0.375rem",boxShadow:"0 1px 3px rgb(50 50 93 / 15%), 0 1px 0 rgb(0 0 0 / 2%)",WebkitBoxShadow:"0 1px 3px rgb(50 50 93 / 15%), 0 1px 0 rgb(0 0 0 / 2%)",transition:"box-shadow 0.15s ease, -webkit-box-shadow 0.15s ease"})}},options:s,value:l,onChange:function(e){return i(e)},isDisabled:u},d)),n.createElement("span",{className:"form-control-helper-text"},m))})),date:n.forwardRef((function(e,t){var r=e.id,a=e.label,o=e.value,s=e.onChangeInput,l=e.helperText,c=e.errorMsg;return Ue(e,je),n.createElement("div",{className:"form-group".concat(c?" form-group-error":"")},n.createElement("label",{className:"form-control-label",htmlFor:r},a),n.createElement("input",{style:{width:"100%",color:o?"":"transparent"},className:"form-control-alternative form-control",type:"date",id:r,value:o?new Date(timeRange.min).toISOString().split("T")[0]:"",onChange:function(e){return s(new Date(e.target.value).valueOf())}}),n.createElement("span",{className:"form-control-helper-text"},l))}))};const qe=n.forwardRef((function(e,t){var r=e.controlled,a=void 0!==r&&r,o=e.type,s=void 0===o?"text":o,l=e.id,c=void 0===l?"uniqId-".concat(+new Date):l,i=e.value,u=void 0===i?"":i,m=e.onChange,f=e.disabled,d=e.required,p=e.validationProfiles,b=e.inputValidator,v=e.inputValidations,g=e.liveValidations,h=Ue(e,Oe),y=Fe({type:s,id:c,disabled:f},h),w=(0,n.useRef)(),x=Se((0,ye.PL)(""),2),E=x[0],j=x[1],O=Se((0,n.useState)(""),2),N=O[0],S=O[1];(0,n.useEffect)((function(){}),[]);var k=function(){return w.current.focus()},D=function(){return a?u:E},C=function(e){return j(e)},P=function(e){return S(e)},A=function(){return S("")},R=function(e){return void 0===e?D():C(e)},Z=function(){if(!1===d&&""===D()||f)return A(),!0;var e=[].concat(Pe(b?[b]:[]),Pe(Be(p?["default"].concat(Pe(p)):["default"]))),t=Ve.validate(e,{value:D(),fieldOpts:y}).filter((function(e){return!e.valid}));return t.length&&P(t[0].errorMsg),!N&&0===t.length},F=function(e){var t=Be(v);return Ve.validate(t,{value:e,fieldOpts:y}).every((function(e){return!0===e.valid}))},I=function(e){var t=Be(g||["default"]),r=Ve.validate(t,{value:e,fieldOpts:y}).filter((function(e){return!1===e.valid}));r.length&&P(r[0].errorMsg)},T=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v||F(t)){e.next=2;break}return e.abrupt("return");case 2:if(A(),!a){e.next=7;break}return g&&I(t),m&&m(t),e.abrupt("return");case 7:return e.next=9,C(t);case 9:g&&I(t),m&&!r&&m(t);case 11:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function s(e){Ne(o,n,a,s,l,"next",e)}function l(e){Ne(o,n,a,s,l,"throw",e)}s(void 0)}))});return function(e,r){return t.apply(this,arguments)}}();(0,n.useImperativeHandle)(t,(function(){return{focus:k,isValid:Z,val:R,setError:P,clearError:A}}));var z=Ye[s];return z||(z=Ye.text,console.error("FormField type : ".concat(s," not found, falling back to 'text'"))),n.createElement(z,ze({ref:w,value:a?u:E,onChangeInput:T,errorMsg:N,helperText:N},y))}));var Le=r(609),$e=r(97975),He=r(68959);function _e(){return _e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_e.apply(this,arguments)}function Qe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function We(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(r),!0).forEach((function(t){Je(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Je(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ge(e,t,r,n,a,o,s){try{var l=e[o](s),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function Xe(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function s(e){Ge(o,n,a,s,l,"next",e)}function l(e){Ge(o,n,a,s,l,"throw",e)}s(void 0)}))}}function et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],s=!0,l=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){l=!0,a=e}finally{try{s||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var rt=function(e){var t=e.column,r=t.filterValue,a=t.setFilter,o=t.preFilteredRows.length;return n.createElement(Le.Z,{value:r||"",onChange:function(e){a(e.target.value||void 0)},placeholder:"search (".concat(o,") ...")})};function nt(){var e=et((0,n.useState)([]),2),t=(e[0],e[1],et((0,n.useState)([]),2)),r=t[0],s=t[1],l=et((0,n.useState)([]),2),c=(l[0],l[1],et((0,n.useState)({}),2)),i=c[0],u=c[1],m=et((0,n.useState)({min:0,max:0}),2),f=m[0],d=m[1],p=et((0,n.useState)(""),2),b=p[0],v=p[1],g=(0,n.useRef)(),h=(0,n.useRef)();(0,n.useRef)(),(0,n.useEffect)(Xe(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("UserJourney mount - setOpts"),e.prev=1,e.next=4,S.root.get("/client/register/event",{},{headers:{consumerKey:"1fxb4orbwe8sr"}});case 4:t=e.sent,r=t.data.results[0].metaEventDoc,s(r.map((function(e){return{label:e.eventDesc?e.eventDesc:e.eventName,value:e.eventName}}))),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:return e.abrupt("return",(function(){console.log("UserJourney mount - setOpts cleanup ")}));case 12:case"end":return e.stop()}}),e,null,[[1,9]])}))),[]),(0,n.useEffect)(Xe(regeneratorRuntime.mark((function e(){var t,r,n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("UserJourney mount "),v(A),t=P.day,r=P[t.successor],n=(new Date).valueOf(),a=n-r.ms,d((function(e){return We(We({},e),{},{min:a,max:n})})),e.abrupt("return",(function(){console.log("UserJourney mount cleanup ")}));case 8:case"end":return e.stop()}}),e)}))),[]);var y=function(){var e=Xe(regeneratorRuntime.mark((function e(t,r,n){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.root.post("/digital/analytics/user-events-count",{dateRange1:t,dateRange1Str:new Date(t),dateRange2:r,dateRange2Str:new Date(r),displayFormat:b.value,eventNameList:n});case 2:return a=e.sent,e.abrupt("return",a.data.results);case 4:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),w=function(){var e=Xe(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(![g.current.isValid()].includes(!1)){e.next=2;break}return e.abrupt("return");case 2:return t=h.current.val()||[],n=t.map((function(e){return e.value})),e.next=6,y(f.min,f.max,n);case 6:a=e.sent,console.log("UserJourney - Fetched data between "+new Date(f.min)+" and "+new Date(f.max)+" for",n,{data:a}),u((function(e){return{columns:t&&t.length?t:r,data:a}}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=n.useMemo((function(){return console.log("memorising data"),i.data||[]}),[i]),E=n.useMemo((function(){console.log("memorising columns");var e=(i.columns||[]).map((function(e){return{Header:e.label,accessor:e.value,Cell:function(e){return e.value||"-"}}}));return e.length?[{Header:"Date / Time",accessor:"dateStr"}].concat(e):[]}),[i]),j=(0,he.useTable)({columns:E,data:x,defaultColumn:{Filter:rt},initialState:{pageIndex:0,pageSize:10}},he.useFilters,he.useSortBy,he.usePagination),O=j.getTableProps,N=j.getTableBodyProps,k=j.headerGroups,D=j.page,C=j.prepareRow,R=j.canPreviousPage,Z=j.canNextPage,I=j.pageOptions,T=j.pageCount,z=j.gotoPage,U=j.nextPage,M=j.previousPage,B=j.setPageSize,K=j.state,V=K.pageIndex,Y=K.pageSize;return console.log("#render#",{columns:E,data:x,tableStuff:i}),n.createElement(n.Fragment,null,n.createElement("div",{className:"table-filters row mb-3"},n.createElement("div",{className:"col-lg-12"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-lg-3 mb-2"},n.createElement(qe,{ref:g,controlled:!0,type:"select",id:"displayFormat",label:"Unit",options:Object.entries(F()).map((function(e){var t=et(e,2),r=t[0];return t[1],{label:r.toUpperCase(),value:r}})),value:b,onChange:function(e){v(e);var t=P[e.value],r=P[t.successor],n=(new Date).valueOf(),a=n-r.ms;d((function(e){return We(We({},e),{},{min:a,max:n})}))}})),n.createElement("div",{className:"col-lg-3 mb-2"},n.createElement("div",{className:"form-group"},n.createElement("label",{className:"form-control-label",htmlFor:"start-time"},"Start"),n.createElement("input",{style:{width:"100%",color:f.min?"":"transparent"},className:"form-control-alternative form-control",type:"date",id:"start-time",value:f.min?new Date(f.min).toISOString().split("T")[0]:"",onChange:function(e){return d((function(t){return We(We({},t),{},{min:new Date(e.target.value).valueOf()})}))}}))),n.createElement("div",{className:"col-lg-3 mb-2"},n.createElement("div",{className:"form-group"},n.createElement("label",{className:"form-control-label",htmlFor:"end-time"},"End"),n.createElement("input",{style:{width:"100%",color:f.max?"":"transparent"},className:"form-control-alternative form-control",type:"date",id:"end-time",value:f.max?new Date(f.max).toISOString().split("T")[0]:"",onChange:function(e){return d((function(t){return We(We({},t),{},{max:new Date(e.target.value).valueOf()})}))}}))),n.createElement("div",{className:"col-lg-9 mb-2"},n.createElement(qe,{ref:h,type:"select",id:"columnsConfig",placeholder:"configure columns",options:r,isSearchable:!0,isMulti:!0})),n.createElement("div",{className:"col-lg-3 mb-2 d-flex align-items-start"},n.createElement("button",{className:"btn btn-primary",onClick:w},n.createElement("i",{className:"fa fa-search"})))))),x.length?n.createElement(n.Fragment,null,n.createElement(ge.Z,_e({},O(),{className:"align-items-center table-flush",responsive:!0,bordered:!0}),n.createElement("thead",{className:"thead-light"},k.map((function(e){return n.createElement("tr",e.getHeaderGroupProps(),e.headers.map((function(e){return n.createElement("th",_e({},e.getHeaderProps(),{style:{padding:"1rem",fontSize:"13px"}}),n.createElement("div",e.getSortByToggleProps(),e.render("Header"),function(e){return e.isSorted?e.isSortedDesc?" 🔽":" 🔼":""}(e)))})))}))),n.createElement("tbody",N(),D.map((function(e){return C(e),n.createElement("tr",e.getRowProps(),e.cells.map((function(e){return n.createElement("td",e.getCellProps(),e.render("Cell"))})))})))),n.createElement(a.Z,{style:{maxWidth:1e3,margin:"0 auto",textAlign:"center"}},n.createElement(o.Z,{md:3},n.createElement($e.Z,{color:"primary",onClick:function(){return z(0)},disabled:!R},"<<"),n.createElement($e.Z,{color:"primary",onClick:M,disabled:!R},"<")),n.createElement(o.Z,{md:2,style:{marginTop:7}},"Page"," ",n.createElement("strong",null,V+1," of ",I.length)),n.createElement(o.Z,{md:2},n.createElement(Le.Z,{type:"number",min:1,style:{width:70},max:I.length,defaultValue:V+1,onChange:function(e){var t=e.target.value?Number(e.target.value)-1:0;z(t)}})),n.createElement(o.Z,{md:2},n.createElement(He.Z,{id:"page-size",type:"select",value:Y,onChange:function(e){B(Number(e.target.value))}},[5,10,20,30,40,50].map((function(e){return n.createElement("option",{key:e,value:e},"Show ",e)})))),n.createElement(o.Z,{md:3},n.createElement($e.Z,{color:"primary",onClick:U,disabled:!Z},">"),n.createElement($e.Z,{color:"primary",onClick:function(){return z(T-1)},disabled:!Z},">>")))):null)}function at(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ot(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?at(Object(r),!0).forEach((function(t){st(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):at(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function st(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lt(e,t,r,n,a,o,s){try{var l=e[o](s),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function ct(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function s(e){lt(o,n,a,s,l,"next",e)}function l(e){lt(o,n,a,s,l,"throw",e)}s(void 0)}))}}function it(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],s=!0,l=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){l=!0,a=e}finally{try{s||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ut(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ut(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mt(){var e=it((0,n.useState)([]),2),t=(e[0],e[1],it((0,n.useState)({}),2)),r=t[0],a=t[1],o=it((0,n.useState)({min:0,max:0}),2),s=o[0],l=o[1],c=it((0,n.useState)(""),2),i=c[0],u=c[1],m=(0,n.useRef)(),f=(0,n.useRef)();(0,n.useEffect)(ct(regeneratorRuntime.mark((function e(){var t,r,n,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("EngagementAnalysis mount "),u(A),t=P.day,r=P[t.successor],n=(new Date).valueOf(),o=n-r.ms,l((function(e){return ot(ot({},e),{},{min:o,max:n})})),e.next=9,d(o,n,{value:A});case 9:return s=e.sent,console.log("EngagementAnalysis - Fetched data between "+new Date(o)+" and "+new Date(n),{data:s}),a({labels:s.map((function(e){return Object.keys(e)[0]})),datasets:[st({label:"Total",data:s.map((function(e){return Object.values(e)[0]})),parsing:{xAxisKey:"durationRange",yAxisKey:"count"},backgroundColor:"#fc8d59",borderColor:"#fc8d59"},"borderColor","white")]}),e.abrupt("return",(function(){console.log("EngagementAnalysis mount cleanup ")}));case 13:case"end":return e.stop()}}),e)}))),[]);var d=function(){var e=ct(regeneratorRuntime.mark((function e(t,r){var n,a,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>2&&void 0!==o[2]?o[2]:i,e.next=3,S.root.post("/digital/analytics/engagement-duration",{dateRange1:t,dateRange1Str:new Date(t),dateRange2:r,dateRange2Str:new Date(r),displayFormat:n.value});case 3:return a=e.sent,e.abrupt("return",a.data.results);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),b=function(){var e=ct(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(![f.current.isValid()].includes(!1)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,d(s.min,s.max);case 4:t=e.sent,console.log("EngagementAnalysis - Fetched data between "+new Date(s.min)+" and "+new Date(s.max)+" for",{data:t}),a({labels:t.map((function(e){return Object.keys(e)[0]})),datasets:[st({label:"Total",data:t.map((function(e){return Object.values(e)[0]})),parsing:{xAxisKey:"durationRange",yAxisKey:"count"},backgroundColor:"#fc8d59",borderColor:"#fc8d59"},"borderColor","white")]});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n.createElement(n.Fragment,null,n.createElement("div",{className:"table-filters row mb-3"},n.createElement("div",{className:"col-lg-12"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-lg-3 mb-2"},n.createElement(qe,{ref:f,controlled:!0,type:"select",id:"displayFormat",label:"Unit",options:Object.entries(F()).map((function(e){var t=it(e,2),r=t[0];return t[1],{label:r.toUpperCase(),value:r}})),value:i,onChange:function(e){u(e);var t=P[e.value],r=P[t.successor],n=(new Date).valueOf(),a=n-r.ms;l((function(e){return ot(ot({},e),{},{min:a,max:n})}))}})),n.createElement("div",{className:"col-lg-3 mb-2"},n.createElement("div",{className:"form-group"},n.createElement("label",{className:"form-control-label",htmlFor:"start-time"},"Start"),n.createElement("input",{style:{width:"100%",color:s.min?"":"transparent"},className:"form-control-alternative form-control",type:"date",id:"start-time",value:s.min?new Date(s.min).toISOString().split("T")[0]:"",onChange:function(e){return l((function(t){return ot(ot({},t),{},{min:new Date(e.target.value).valueOf()})}))}}))),n.createElement("div",{className:"col-lg-3 mb-2"},n.createElement("div",{className:"form-group"},n.createElement("label",{className:"form-control-label",htmlFor:"end-time"},"End"),n.createElement("input",{style:{width:"100%",color:s.max?"":"transparent"},className:"form-control-alternative form-control",type:"date",id:"end-time",value:s.max?new Date(s.max).toISOString().split("T")[0]:"",onChange:function(e){return l((function(t){return ot(ot({},t),{},{max:new Date(e.target.value).valueOf()})}))}}))),n.createElement("div",{className:"col-lg-3 mb-2"},n.createElement("button",{className:"btn btn-primary",style:{marginTop:"31px"},onClick:b},n.createElement("i",{className:"fa fa-search"})))))),n.createElement(p.$Q,{ref:m,data:r,options:{responsive:!0,barThickness:30,scales:{x:{grid:{display:!1},beginAtZero:!0,position:"bottom"},y:{grid:{display:!1},beginAtZero:!0,position:"left"}},plugins:{title:{display:!1,position:"top",text:function(e){return"\n                                    Chart Info [ zoom level : ".concat(e.chart.getZoomLevel()," ] [ start : ").concat(e.chart.scales.x.min&&-1!=e.chart.scales.x.min&&1!=e.chart.scales.x.min?new Date(e.chart.scales.x.min).toISOString().split("T")[0]:"-",", end : ").concat(e.chart.scales.x.max&&-1!=e.chart.scales.x.max&&1!=e.chart.scales.x.max?new Date(e.chart.scales.x.max).toISOString().split("T")[0]:"-"," ]\n                                ")}},legend:{display:!0,position:"top",labels:{usePointStyle:!0,pointStyle:"rectRounded"}}},transitions:{zoom:{animation:{duration:100}}}}}))}function ft(e,t,r,n,a,o,s){try{var l=e[o](s),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function dt(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function s(e){ft(o,n,a,s,l,"next",e)}function l(e){ft(o,n,a,s,l,"throw",e)}s(void 0)}))}}f.Chart.register(d.ZP);const pt=function(e){var t=(0,n.useRef)();return(0,n.useEffect)(dt(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Dashboard Mount :: "),e.abrupt("return",(function(){console.log("Dashboard unMount :: ")}));case 2:case"end":return e.stop()}}),e)}))),[]),n.createElement(m,{contentHeader:n.createElement(a.Z,null,n.createElement(o.Z,{lg:"6",xl:"3"},n.createElement(s.Z,{className:"card-stats mb-4 mb-xl-0 cursor-pointer",onClick:function(){return t.current.scrollIntoView({behavior:"smooth"})}},n.createElement(l.Z,null,n.createElement(a.Z,null,n.createElement("div",{className:"col"},n.createElement(c.Z,{tag:"h5",className:"text-uppercase text-muted mb-0"},"Traffic"),n.createElement("span",{className:"h2 font-weight-bold mb-0"},"350,897")),n.createElement(o.Z,{className:"col-auto"},n.createElement("div",{className:"icon icon-shape bg-danger text-white rounded-circle shadow"},n.createElement("i",{className:"fas fa-chart-bar"})))),n.createElement("p",{className:"mt-3 mb-0 text-muted text-sm"},n.createElement("span",{className:"text-success mr-2"},n.createElement("i",{className:"fa fa-arrow-up"})," 3.48%")," ",n.createElement("span",{className:"text-nowrap"},"Since last month"))))),n.createElement(o.Z,{lg:"6",xl:"3"},n.createElement(s.Z,{className:"card-stats mb-4 mb-xl-0"},n.createElement(l.Z,null,n.createElement(a.Z,null,n.createElement("div",{className:"col"},n.createElement(c.Z,{tag:"h5",className:"text-uppercase text-muted mb-0"},"New users"),n.createElement("span",{className:"h2 font-weight-bold mb-0"},"2,356")),n.createElement(o.Z,{className:"col-auto"},n.createElement("div",{className:"icon icon-shape bg-warning text-white rounded-circle shadow"},n.createElement("i",{className:"fas fa-chart-pie"})))),n.createElement("p",{className:"mt-3 mb-0 text-muted text-sm"},n.createElement("span",{className:"text-danger mr-2"},n.createElement("i",{className:"fas fa-arrow-down"})," 3.48%")," ",n.createElement("span",{className:"text-nowrap"},"Since last week"))))),n.createElement(o.Z,{lg:"6",xl:"3"},n.createElement(s.Z,{className:"card-stats mb-4 mb-xl-0"},n.createElement(l.Z,null,n.createElement(a.Z,null,n.createElement("div",{className:"col"},n.createElement(c.Z,{tag:"h5",className:"text-uppercase text-muted mb-0"},"Sales"),n.createElement("span",{className:"h2 font-weight-bold mb-0"},"924")),n.createElement(o.Z,{className:"col-auto"},n.createElement("div",{className:"icon icon-shape bg-yellow text-white rounded-circle shadow"},n.createElement("i",{className:"fas fa-users"})))),n.createElement("p",{className:"mt-3 mb-0 text-muted text-sm"},n.createElement("span",{className:"text-warning mr-2"},n.createElement("i",{className:"fas fa-arrow-down"})," 1.10%")," ",n.createElement("span",{className:"text-nowrap"},"Since yesterday"))))),n.createElement(o.Z,{lg:"6",xl:"3"},n.createElement(s.Z,{className:"card-stats mb-4 mb-xl-0"},n.createElement(l.Z,null,n.createElement(a.Z,null,n.createElement("div",{className:"col"},n.createElement(c.Z,{tag:"h5",className:"text-uppercase text-muted mb-0"},"Performance"),n.createElement("span",{className:"h2 font-weight-bold mb-0"},"49,65%")),n.createElement(o.Z,{className:"col-auto"},n.createElement("div",{className:"icon icon-shape bg-info text-white rounded-circle shadow"},n.createElement("i",{className:"fas fa-percent"})))),n.createElement("p",{className:"mt-3 mb-0 text-muted text-sm"},n.createElement("span",{className:"text-success mr-2"},n.createElement("i",{className:"fas fa-arrow-up"})," 12%")," ",n.createElement("span",{className:"text-nowrap"},"Since last month"))))))},n.createElement(a.Z,null,n.createElement(o.Z,{className:"mb-5 mb-xl-0",xl:"12"},n.createElement(s.Z,{className:"shadow"},n.createElement(i.Z,{className:"bg-transparent"},n.createElement(a.Z,{className:"align-items-center"},n.createElement("div",{className:"col"},n.createElement("h6",{className:"text-uppercase text-light ls-1 mb-1"},"Stacked Line"),n.createElement("h2",{className:"mb-0"},"App User Base")))),n.createElement(l.Z,null,n.createElement(Y,null))))),n.createElement(a.Z,{className:"mt-5"},n.createElement(o.Z,{className:"mb-5 mb-xl-0",xl:"12"},n.createElement(s.Z,{className:"shadow"},n.createElement(i.Z,{className:"bg-transparent"},n.createElement(a.Z,{className:"align-items-center"},n.createElement("div",{className:"col"},n.createElement("h6",{className:"text-uppercase text-light ls-1 mb-1"},"Stacked Bar"),n.createElement("h2",{className:"mb-0"},"Active Users")))),n.createElement(l.Z,null,n.createElement(J,null))))),n.createElement(a.Z,{className:"mt-5"},n.createElement(o.Z,{className:"mb-5 mb-xl-0",xl:"12"},n.createElement(s.Z,{className:"shadow"},n.createElement(i.Z,{className:"bg-transparent"},n.createElement(a.Z,{className:"align-items-center"},n.createElement("div",{className:"col"},n.createElement("h6",{className:"text-uppercase text-light ls-1 mb-1"},"Pie"),n.createElement("h2",{className:"mb-0"},"Traffic Analysis")))),n.createElement(l.Z,null,n.createElement(ve,null))))),n.createElement(a.Z,{className:"mt-5"},n.createElement(o.Z,{className:"mb-5 mb-xl-0",xl:"12"},n.createElement(s.Z,{className:"shadow",innerRef:t},n.createElement(i.Z,{className:"bg-transparent"},n.createElement(a.Z,{className:"align-items-center"},n.createElement("div",{className:"col"},n.createElement("h6",{className:"text-uppercase text-light ls-1 mb-1"},"Table"),n.createElement("h3",{className:"mb-0"},"User Journey")))),n.createElement(l.Z,null,n.createElement(nt,null))))),n.createElement(a.Z,{className:"mt-5"},n.createElement(o.Z,{className:"mb-5 mb-xl-0",xl:"12"},n.createElement(s.Z,{className:"shadow"},n.createElement(i.Z,{className:"bg-transparent"},n.createElement(a.Z,{className:"align-items-center"},n.createElement("div",{className:"col"},n.createElement("h6",{className:"text-uppercase text-light ls-1 mb-1"},"Stacked Bar"),n.createElement("h2",{className:"mb-0"},"Crash Analysis")))),n.createElement(l.Z,null,n.createElement(oe,null))))),n.createElement(a.Z,{className:"mt-5"},n.createElement(o.Z,{className:"mb-5 mb-xl-0",xl:"12"},n.createElement(s.Z,{className:"shadow"},n.createElement(i.Z,{className:"bg-transparent"},n.createElement(a.Z,{className:"align-items-center"},n.createElement("div",{className:"col"},n.createElement("h6",{className:"text-uppercase text-light ls-1 mb-1"},"Bar"),n.createElement("h2",{className:"mb-0"},"Engagement Analysis")))),n.createElement(l.Z,null,n.createElement(mt,null))))))}},66235:(e,t,r)=>{"use strict";var n=r(74783)(e.id,{locals:!1});e.hot.dispose(n),e.hot.accept(void 0,n)},46700:(e,t,r)=>{var n={"./af":42786,"./af.js":42786,"./ar":30867,"./ar-dz":14130,"./ar-dz.js":14130,"./ar-kw":96135,"./ar-kw.js":96135,"./ar-ly":56440,"./ar-ly.js":56440,"./ar-ma":47702,"./ar-ma.js":47702,"./ar-sa":16040,"./ar-sa.js":16040,"./ar-tn":37100,"./ar-tn.js":37100,"./ar.js":30867,"./az":31083,"./az.js":31083,"./be":9808,"./be.js":9808,"./bg":68338,"./bg.js":68338,"./bm":67438,"./bm.js":67438,"./bn":8905,"./bn-bd":76225,"./bn-bd.js":76225,"./bn.js":8905,"./bo":11560,"./bo.js":11560,"./br":1278,"./br.js":1278,"./bs":80622,"./bs.js":80622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":50877,"./cv.js":50877,"./cy":47373,"./cy.js":47373,"./da":24780,"./da.js":24780,"./de":59740,"./de-at":60217,"./de-at.js":60217,"./de-ch":60894,"./de-ch.js":60894,"./de.js":59740,"./dv":5300,"./dv.js":5300,"./el":50837,"./el.js":50837,"./en-au":78348,"./en-au.js":78348,"./en-ca":77925,"./en-ca.js":77925,"./en-gb":22243,"./en-gb.js":22243,"./en-ie":46436,"./en-ie.js":46436,"./en-il":47207,"./en-il.js":47207,"./en-in":44175,"./en-in.js":44175,"./en-nz":76319,"./en-nz.js":76319,"./en-sg":31662,"./en-sg.js":31662,"./eo":92915,"./eo.js":92915,"./es":55655,"./es-do":55251,"./es-do.js":55251,"./es-mx":96112,"./es-mx.js":96112,"./es-us":71146,"./es-us.js":71146,"./es.js":55655,"./et":5603,"./et.js":5603,"./eu":77763,"./eu.js":77763,"./fa":76959,"./fa.js":76959,"./fi":11897,"./fi.js":11897,"./fil":42549,"./fil.js":42549,"./fo":94694,"./fo.js":94694,"./fr":94470,"./fr-ca":63049,"./fr-ca.js":63049,"./fr-ch":52330,"./fr-ch.js":52330,"./fr.js":94470,"./fy":5044,"./fy.js":5044,"./ga":29295,"./ga.js":29295,"./gd":2101,"./gd.js":2101,"./gl":38794,"./gl.js":38794,"./gom-deva":27884,"./gom-deva.js":27884,"./gom-latn":23168,"./gom-latn.js":23168,"./gu":95349,"./gu.js":95349,"./he":24206,"./he.js":24206,"./hi":30094,"./hi.js":30094,"./hr":30316,"./hr.js":30316,"./hu":22138,"./hu.js":22138,"./hy-am":11423,"./hy-am.js":11423,"./id":29218,"./id.js":29218,"./is":90135,"./is.js":90135,"./it":90626,"./it-ch":10150,"./it-ch.js":10150,"./it.js":90626,"./ja":39183,"./ja.js":39183,"./jv":24286,"./jv.js":24286,"./ka":12105,"./ka.js":12105,"./kk":47772,"./kk.js":47772,"./km":18758,"./km.js":18758,"./kn":79282,"./kn.js":79282,"./ko":33730,"./ko.js":33730,"./ku":1408,"./ku.js":1408,"./ky":33291,"./ky.js":33291,"./lb":36841,"./lb.js":36841,"./lo":55466,"./lo.js":55466,"./lt":57010,"./lt.js":57010,"./lv":37595,"./lv.js":37595,"./me":39861,"./me.js":39861,"./mi":35493,"./mi.js":35493,"./mk":95966,"./mk.js":95966,"./ml":87341,"./ml.js":87341,"./mn":5115,"./mn.js":5115,"./mr":10370,"./mr.js":10370,"./ms":9847,"./ms-my":41237,"./ms-my.js":41237,"./ms.js":9847,"./mt":72126,"./mt.js":72126,"./my":56165,"./my.js":56165,"./nb":64924,"./nb.js":64924,"./ne":16744,"./ne.js":16744,"./nl":93901,"./nl-be":59814,"./nl-be.js":59814,"./nl.js":93901,"./nn":83877,"./nn.js":83877,"./oc-lnc":92135,"./oc-lnc.js":92135,"./pa-in":15858,"./pa-in.js":15858,"./pl":64495,"./pl.js":64495,"./pt":89520,"./pt-br":57971,"./pt-br.js":57971,"./pt.js":89520,"./ro":96459,"./ro.js":96459,"./ru":21793,"./ru.js":21793,"./sd":40950,"./sd.js":40950,"./se":10490,"./se.js":10490,"./si":90124,"./si.js":90124,"./sk":64249,"./sk.js":64249,"./sl":14985,"./sl.js":14985,"./sq":51104,"./sq.js":51104,"./sr":49131,"./sr-cyrl":79915,"./sr-cyrl.js":79915,"./sr.js":49131,"./ss":85893,"./ss.js":85893,"./sv":98760,"./sv.js":98760,"./sw":91172,"./sw.js":91172,"./ta":27333,"./ta.js":27333,"./te":23110,"./te.js":23110,"./tet":52095,"./tet.js":52095,"./tg":27321,"./tg.js":27321,"./th":9041,"./th.js":9041,"./tk":19005,"./tk.js":19005,"./tl-ph":75768,"./tl-ph.js":75768,"./tlh":89444,"./tlh.js":89444,"./tr":72397,"./tr.js":72397,"./tzl":28254,"./tzl.js":28254,"./tzm":51106,"./tzm-latn":30699,"./tzm-latn.js":30699,"./tzm.js":51106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":67691,"./uk.js":67691,"./ur":13795,"./ur.js":13795,"./uz":6791,"./uz-latn":60588,"./uz-latn.js":60588,"./uz.js":6791,"./vi":65666,"./vi.js":65666,"./x-pseudo":14378,"./x-pseudo.js":14378,"./yo":75805,"./yo.js":75805,"./zh-cn":83839,"./zh-cn.js":83839,"./zh-hk":55726,"./zh-hk.js":55726,"./zh-mo":99807,"./zh-mo.js":99807,"./zh-tw":74152,"./zh-tw.js":74152};function a(e){var t=o(e);return r(t)}function o(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=o,e.exports=a,a.id=46700}}]);
//# sourceMappingURL=dashboard.chunk.js.map